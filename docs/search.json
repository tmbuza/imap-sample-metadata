[{"path":"index.html","id":"welcome-to-imap","chapter":"Getting Started with Metadata Exploration","heading":"Getting Started with Metadata Exploration","text":"chapter, explore significance microbiome sample metadata, shedding light crucial role extracting meaningful insights microbiome datasets. addition theoretical insights, ’ll provide hands-demonstrations. Learn download Sequence Read Archive (SRA) metadata, gaining practical experience obtaining detailed information microbiome samples. also guide exploration associated fixed experimental variables, showcasing navigate interpret critical components. Let’s dive fundamentals microbiome sample metadata enhance depth analysis.Happy exploring!","code":""},{"path":"understanding-sample-metadata.html","id":"understanding-sample-metadata","chapter":"1 Understanding Sample Metadata","heading":"1 Understanding Sample Metadata","text":"","code":""},{"path":"understanding-sample-metadata.html","id":"what-is-metadata","chapter":"1 Understanding Sample Metadata","heading":"1.1 What is metadata?","text":"Metadata set data describes provides information data. commonly defined data data.Sample metadata described refers description context individual sample collected specific microbiome study.","code":""},{"path":"understanding-sample-metadata.html","id":"metadata-structure","chapter":"1 Understanding Sample Metadata","heading":"1.2 Metadata structure","text":"Metadata collected different stages typically organized Excel Google spreadsheet :\nmetadata table columns represent properties samples.\ntable rows contain information associated samples.\nTypically, first column sample metadata Sample ID, designates key associated individual samples.\nSample ID must unique.\nmetadata table columns represent properties samples.table rows contain information associated samples.Typically, first column sample metadata Sample ID, designates key associated individual samples.Sample ID must unique.","code":""},{"path":"understanding-sample-metadata.html","id":"embedded-metadata","chapter":"1 Understanding Sample Metadata","heading":"1.3 Embedded metadata","text":"cases, find metadata detached experimental data.Embedded metadata integrates experimental data, especially graphics.Major microbiome analysis platforms require sample metadata, commonly referred mapping file performing downstream analysis.","code":""},{"path":"downloading-ncbi-sra-metadata.html","id":"downloading-ncbi-sra-metadata","chapter":"2 Downloading NCBI-SRA metadata","heading":"2 Downloading NCBI-SRA metadata","text":"Different methods exist downloading sample metadata deposited Sequence Read Archive (SRA) European Nucleotide Archive (ENA). process yields slightly different information, ideal habit explore method gives suits best.\ndemo: explore sample metadata retrieved five randomly selected microbiome BioProjects, including:PRJNA477349: 16S rRNA bushmeat samples collected Tanzania Metagenome (Multispecies).PRJNA802976: Changes Gut Microbiota following Systemic Antibiotic Administration Infants (Multispecies).PRJNA322554: Early Infant Gut Microbiome Varies Association Maternal High-fat Diet (Multispecies).PRJNA937707: Microbiome associated spotting disease purple sea urchin (Multispecies).PRJNA589182: 16S rDNA gene sequencing phyllosphere endophytic bacterial communities colonizing wild Populus trichocarpa Raw sequence reads(Multispecies).","code":""},{"path":"downloading-ncbi-sra-metadata.html","id":"manually-via-sra-run-selector","chapter":"2 Downloading NCBI-SRA metadata","heading":"2.1 Manually via SRA Run Selector","text":"can manually retrieve metadata SRA database via SRA Run Selector.Note SRA filename metadata automatically named SraRunTable.txt.Users can change default TXT extension like CSV preferred.demo, use CSV save metadata file data/ folder.","code":""},{"path":"downloading-ncbi-sra-metadata.html","id":"computationally-via-entrez-direct","chapter":"2 Downloading NCBI-SRA metadata","heading":"2.2 Computationally via Entrez Direct","text":"","code":"#!/bin/bash\n\nesearch -db sra -query 'PRJNA477349[bioproject]' | efetch -format runinfo >data/runinfo_PRJNA477349_metadata.csv;\nesearch -db sra -query 'PRJNA802976[bioproject]' | efetch -format runinfo >data/runinfo_PRJNA802976_metadata.csv;\nesearch -db sra -query 'PRJNA322554[bioproject]' | efetch -format runinfo >data/runinfo_PRJNA322554_metadata.csv;\nesearch -db sra -query 'PRJNA937707[bioproject]' | efetch -format runinfo >data/runinfo_PRJNA937707_metadata.csv;\nesearch -db sra -query 'PRJNA589182[bioproject]' | efetch -format runinfo >data/runinfo_PRJNA589182_metadata.csv;"},{"path":"downloading-ncbi-sra-metadata.html","id":"computationally-using-pysradb","chapter":"2 Downloading NCBI-SRA metadata","heading":"2.3 Computationally using pysradb","text":"","code":""},{"path":"downloading-ncbi-sra-metadata.html","id":"create-pysradb-environment","chapter":"2 Downloading NCBI-SRA metadata","heading":"2.3.1 Create pysradb environment","text":"pysradb tool can obtain metadata SRA ENA. create independent environment install pysradb. can delete env longer needed.\nlearn click .First, create pysradb environment install pysradb tool.use pysradb download SRA metadata CLI.","code":"conda activate base\nconda create -c bioconda -n pysradb PYTHON=3 pysradb"},{"path":"downloading-ncbi-sra-metadata.html","id":"using-a-bash-script","chapter":"2 Downloading NCBI-SRA metadata","heading":"2.3.2 Using a bash script","text":"","code":"#!/bin/bash\n# Shell script: workflow/scripts/pysradb_sra_metadata.sh\n\npysradb metadata PRJNA477349 --detailed >data/PRJNA477349_pysradb.csv\npysradb metadata PRJNA802976 --detailed >data/PRJNA802976_pysradb.csv\npysradb metadata PRJNA322554 --detailed >data/PRJNA322554_pysradb.csv\npysradb metadata PRJNA937707 --detailed >data/PRJNA937707_pysradb.csv\npysradb metadata PRJNA589182 --detailed >data/PRJNA589182_pysradb.csv"},{"path":"downloading-ncbi-sra-metadata.html","id":"using-a-python-script","chapter":"2 Downloading NCBI-SRA metadata","heading":"2.3.3 Using a python script","text":"sometimes experience ConnectionError using python method. Try different method happens.","code":"# Python script: workflow/scripts/pysradb_sra_metadata.py\n\nimport os\nimport sys\nimport csv\nimport pandas as pd\n\nfrom pysradb.sraweb import SRAweb\n\ndb = SRAweb()\ndf = db.sra_metadata('PRJNA477349', detailed=True)\ndf.to_csv('data/PRJNA477349_pysradb_metadata.csv', index=False)\n\ndb = SRAweb()\ndf = db.sra_metadata('PRJNA802976', detailed=True)\ndf.to_csv('data/PRJNA802976_pysradb_metadata.csv', index=False)\n\ndb = SRAweb()\ndf = db.sra_metadata('PRJNA322554', detailed=True)\ndf.to_csv('data/PRJNA322554_pysradb_metadata.csv', index=False)\n\ndb = SRAweb()\ndf = db.sra_metadata('PRJNA937707', detailed=True)\ndf.to_csv('data/PRJNA937707_pysradb_metadata.csv', index=False)\n\ndb = SRAweb()\ndf = db.sra_metadata('PRJNA589182', detailed=True)\ndf.to_csv('data/PRJNA589182_pysradb_metadata.csv', index=False)"},{"path":"downloading-ncbi-sra-metadata.html","id":"example-querying-sra-or-ena-with-a-keyword","chapter":"2 Downloading NCBI-SRA metadata","heading":"2.4 Example querying SRA or ENA with a keyword","text":"Using keywords search extensive database helps filter user-specified information, certain disease-related studies.","code":"#!/bin/bash\nmamba install -c bioconda pysradb\n\npysradb search --db sra -q Amplicon --max 100 >sra_amplicon_studies.csv\n\npysradb search --db ena -q Amplicon --max 100 >ena_amplicon_studies.csv"},{"path":"exploring-sample-metadata.html","id":"exploring-sample-metadata","chapter":"3 Exploring sample metadata","heading":"3 Exploring sample metadata","text":"","code":"\nlibrary(tidyverse)\nknitr::opts_chunk$set(comment = NA)"},{"path":"exploring-sample-metadata.html","id":"read-size","chapter":"3 Exploring sample metadata","heading":"3.1 Read size","text":"size reads can tell us big dataset can help estimate computational needs.Top five smallest project read sizeTop five biggest project read size","code":"\nread_csv(\"results/read_size_asc.csv\", show_col_types = FALSE) %>% \nhead(5)# A tibble: 5 × 3\n  run        bioproject   bases\n  <chr>      <chr>        <dbl>\n1 SRR3725509 PRJNA322554    581\n2 SRR901080  PRJNA208226  89298\n3 SRR3725412 PRJNA322554 100541\n4 SRR901106  PRJNA208226 114181\n5 SRR3725402 PRJNA322554 117824\nread_csv(\"results/read_size_desc.csv\", show_col_types = FALSE) %>% \nhead(5)# A tibble: 5 × 3\n  run         bioproject      bases\n  <chr>       <chr>           <dbl>\n1 SRR10245303 PRJNA477349 434919320\n2 SRR10245294 PRJNA477349 382616209\n3 SRR10245352 PRJNA477349 316807915\n4 SRR10245293 PRJNA477349 274398756\n5 SRR10245330 PRJNA477349 265408834"},{"path":"exploring-sample-metadata.html","id":"compare-read-size-by-bioproject","chapter":"3 Exploring sample metadata","heading":"3.2 Compare read size by BioProject","text":"","code":""},{"path":"exploring-sample-metadata.html","id":"read-size-by-variables-within-a-project","chapter":"3 Exploring sample metadata","heading":"3.3 Read size by variables within a project","text":"","code":""},{"path":"exploring-sample-metadata.html","id":"explore-project-sampling-points","chapter":"3 Exploring sample metadata","heading":"3.4 Explore project sampling points","text":"Dropping pins map posible coordinate data, latitudes longitude collection points.\nhovering pin able see corresponding project, viewed interactively.","code":""}]
