[{"path":"index.html","id":"metadata-exploration","chapter":"IMAP-Part 02: Microbiome Sample Metadata Exploration","heading":"IMAP-Part 02: Microbiome Sample Metadata Exploration","text":"","code":""},{"path":"index.html","id":"navigating-microbiome-sample-metadata","chapter":"IMAP-Part 02: Microbiome Sample Metadata Exploration","heading":"Navigating microbiome sample metadata","text":"chapter, delve essential realm microbiome sample metadata. Uncover pivotal role extracting meaningful insights microbiome datasets theoretical understanding hands-demonstrations. Gain practical experience learning download Sequence Read Archive (SRA) metadata, obtaining detailed information microbiome samples. guide exploration associated fixed experimental variables, demonstrating navigate interpret critical components. Let’s dive fundamentals microbiome sample metadata, enhancing depth analysis. Happy exploring!","code":""},{"path":"understanding-sample-metadata.html","id":"understanding-sample-metadata","chapter":"1 Understanding Sample Metadata","heading":"1 Understanding Sample Metadata","text":"","code":""},{"path":"understanding-sample-metadata.html","id":"what-is-metadata","chapter":"1 Understanding Sample Metadata","heading":"1.1 What is metadata?","text":"Metadata set data describes provides information data. commonly defined data data.Sample metadata described refers description context individual sample collected specific microbiome study.","code":""},{"path":"understanding-sample-metadata.html","id":"metadata-structure","chapter":"1 Understanding Sample Metadata","heading":"1.2 Metadata structure","text":"Metadata collected different stages typically organized Excel Google spreadsheet :\nmetadata table columns represent properties samples.\ntable rows contain information associated samples.\nTypically, first column sample metadata Sample ID, designates key associated individual samples.\nSample ID must unique.\nmetadata table columns represent properties samples.table rows contain information associated samples.Typically, first column sample metadata Sample ID, designates key associated individual samples.Sample ID must unique.","code":""},{"path":"understanding-sample-metadata.html","id":"embedded-metadata","chapter":"1 Understanding Sample Metadata","heading":"1.3 Embedded metadata","text":"cases, find metadata detached experimental data.Embedded metadata integrates experimental data, especially graphics.Major microbiome analysis platforms require sample metadata, commonly referred mapping file performing downstream analysis.","code":""},{"path":"downloading-ncbi-sra-metadata.html","id":"downloading-ncbi-sra-metadata","chapter":"2 Downloading NCBI-SRA metadata","heading":"2 Downloading NCBI-SRA metadata","text":"","code":""},{"path":"downloading-ncbi-sra-metadata.html","id":"demo-projects-for-metadata-exploration","chapter":"2 Downloading NCBI-SRA metadata","heading":"2.1 Demo Projects for metadata exploration","text":"demonstration, delve sample metadata obtained various randomly selected public microbiome NCBI BioProjects. includes information :PRJNA477349: 16S rRNA bushmeat samples collected Tanzania Metagenome (Multispecies).PRJNA802976: Changes Gut Microbiota following Systemic Antibiotic Administration Infants (Multispecies).PRJNA322554: Early Infant Gut Microbiome Varies Association Maternal High-fat Diet (Multispecies).PRJNA937707: Microbiome associated spotting disease purple sea urchin (Multispecies).PRJNA589182: 16S rDNA gene sequencing phyllosphere endophytic bacterial communities colonizing wild Populus trichocarpa Raw sequence reads(Multispecies).PRJEB13870: Dysbiosis gut microbiota contributes pathogenesis hypertension (Multispecies).PRJNA208226: Colonization patterns soil microbial communities Atacama Desert (Multispecies).","code":""},{"path":"downloading-ncbi-sra-metadata.html","id":"download-methods","chapter":"2 Downloading NCBI-SRA metadata","heading":"2.2 Download Methods","text":"Various methods available downloading sample metadata Sequence Read Archive (SRA) European Nucleotide Archive (ENA). method provides slightly different information, making prudent explore select one best aligns specific needs preferences.","code":""},{"path":"downloading-ncbi-sra-metadata.html","id":"manually-via-sra-run-selector","chapter":"2 Downloading NCBI-SRA metadata","heading":"2.2.1 Manually via SRA Run Selector","text":"can manually retrieve metadata SRA database via SRA Run Selector.Note SRA filename metadata automatically named SraRunTable.txt.Users can change default TXT extension like CSV preferred.demo, use CSV save metadata file data/ folder.","code":""},{"path":"downloading-ncbi-sra-metadata.html","id":"computationally-via-entrez-direct","chapter":"2 Downloading NCBI-SRA metadata","heading":"2.2.2 Computationally via Entrez Direct","text":"can retrieve SRA metadata computationally using Entrez Direct, set tools provided NCBI accessing Entrez databases. ’s step--step guide:Download Entrez Direct\ncan download install Entrez Direct following instructions NCBI GitHub repository.Download Entrez Direct\ncan download install Entrez Direct following instructions NCBI GitHub repository.Add Entrez Direct PATH\ndownloading, add edirect folder system’s PATH environment variable. allows run Entrez Direct commands location terminal.Add Entrez Direct PATH\ndownloading, add edirect folder system’s PATH environment variable. allows run Entrez Direct commands location terminal.Make sure replace “/path//edirect” actual path edirect folder system.Download SRA Metadata\nUse following Entrez Direct commands download SRA metadata specific BioProjects. Replace “PRJ…” BioProject accessions interest.","code":"export PATH=$PATH:/path/to/edirect#!/bin/bash\n\nesearch -db sra -query 'PRJNA477349[bioproject]' | efetch -format runinfo >data/runinfo_PRJNA477349_metadata.csv;\nesearch -db sra -query 'PRJNA802976[bioproject]' | efetch -format runinfo >data/runinfo_PRJNA802976_metadata.csv;\nesearch -db sra -query 'PRJNA322554[bioproject]' | efetch -format runinfo >data/runinfo_PRJNA322554_metadata.csv;\nesearch -db sra -query 'PRJNA937707[bioproject]' | efetch -format runinfo >data/runinfo_PRJNA937707_metadata.csv;\nesearch -db sra -query 'PRJNA589182[bioproject]' | efetch -format runinfo >data/runinfo_PRJNA589182_metadata.csv;\nesearch -db sra -query 'PRJEB13870[bioproject]' | efetch -format runinfo >data/runinfo_PRJEB13870_metadata.csv;\nesearch -db sra -query 'PRJNA208226[bioproject]' | efetch -format runinfo >data/runinfo_PRJNA208226_metadata.csv;"},{"path":"downloading-ncbi-sra-metadata.html","id":"computationally-using-pysradb","chapter":"2 Downloading NCBI-SRA metadata","heading":"2.2.3 Computationally using pysradb","text":"Create pysradb environment\npysradb tool can obtain metadata SRA ENA. create independent environment install pysradb. can delete env longer needed.\nlearn click .First, create pysradb environment install pysradb tool.use pysradb download SRA metadata CLI.Download using bash scriptDownload using python scriptI sometimes experience ConnectionError using python method. Try different method happens.","code":"conda activate base\nconda create -c bioconda -n pysradb PYTHON=3 pysradb#!/bin/bash\n# Shell script: workflow/scripts/pysradb_sra_metadata.sh\n\npysradb metadata PRJNA477349 --detailed >data/PRJNA477349_pysradb.csv\npysradb metadata PRJNA802976 --detailed >data/PRJNA802976_pysradb.csv\npysradb metadata PRJNA322554 --detailed >data/PRJNA322554_pysradb.csv\npysradb metadata PRJNA937707 --detailed >data/PRJNA937707_pysradb.csv\npysradb metadata PRJNA589182 --detailed >data/PRJNA589182_pysradb.csv\npysradb metadata PRJEB13870 --detailed >data/PRJEB13870_pysradb.csv\npysradb metadata PRJNA208226 --detailed >data/PRJNA208226_pysradb.csv# Python script: workflow/scripts/pysradb_sra_metadata.py\n\nimport os\nimport sys\nimport csv\nimport pandas as pd\n\nfrom pysradb.sraweb import SRAweb\n\ndb = SRAweb()\ndf = db.sra_metadata('PRJNA477349', detailed=True)\ndf.to_csv('data/PRJNA477349_pysradb_metadata.csv', index=False)\n\ndb = SRAweb()\ndf = db.sra_metadata('PRJNA802976', detailed=True)\ndf.to_csv('data/PRJNA802976_pysradb_metadata.csv', index=False)\n\ndb = SRAweb()\ndf = db.sra_metadata('PRJNA322554', detailed=True)\ndf.to_csv('data/PRJNA322554_pysradb_metadata.csv', index=False)\n\ndb = SRAweb()\ndf = db.sra_metadata('PRJNA937707', detailed=True)\ndf.to_csv('data/PRJNA937707_pysradb_metadata.csv', index=False)\n\ndb = SRAweb()\ndf = db.sra_metadata('PRJNA589182', detailed=True)\ndf.to_csv('data/PRJNA589182_pysradb_metadata.csv', index=False)\n\ndb = SRAweb()\ndf = db.sra_metadata('PRJEB13870', detailed=True)\ndf.to_csv('data/PRJEB13870_pysradb_metadata.csv', index=False)\n\ndb = SRAweb()\ndf = db.sra_metadata('PRJNA208226', detailed=True)\ndf.to_csv('data/PRJNA208226_pysradb_metadata.csv', index=False)"},{"path":"downloading-ncbi-sra-metadata.html","id":"filtering-user-specified-information","chapter":"2 Downloading NCBI-SRA metadata","heading":"2.3 Filtering user-specified information","text":"Using keywords search extensive database helps filter user-specified information, certain disease-related studies.","code":"#!/bin/bash\n# Install pysradb using mamba package manager\nmamba install -c bioconda pysradb\n\n# Search the SRA database for studies related to \"Amplicon\" and limit to 100 results\npysradb search --db sra -q Amplicon --max 100 > sra_amplicon_studies.csv\n\n# Search the ENA database for studies related to \"Amplicon\" and limit to 100 results\npysradb search --db ena -q Amplicon --max 100 > ena_amplicon_studies.csv"},{"path":"exploring-sample-metadata.html","id":"exploring-sample-metadata","chapter":"3 Exploring Sample Metadata","heading":"3 Exploring Sample Metadata","text":"","code":""},{"path":"exploring-sample-metadata.html","id":"load-required-libraries","chapter":"3 Exploring Sample Metadata","heading":"3.1 Load required libraries","text":"","code":"\nlibrary(tidyverse)\nknitr::opts_chunk$set(comment = NA)"},{"path":"exploring-sample-metadata.html","id":"read-size","chapter":"3 Exploring Sample Metadata","heading":"3.2 Read size","text":"size reads can tell us big dataset can help estimate computational needs.Top five smallest project read sizeTop five biggest project read size","code":"\nread_csv(\"results/read_size_asc.csv\", show_col_types = FALSE) %>% \nhead(5)# A tibble: 5 × 3\n  run        bioproject   bases\n  <chr>      <chr>        <dbl>\n1 SRR3725509 PRJNA322554    581\n2 SRR901080  PRJNA208226  89298\n3 SRR3725412 PRJNA322554 100541\n4 SRR901106  PRJNA208226 114181\n5 SRR3725402 PRJNA322554 117824\nread_csv(\"results/read_size_desc.csv\", show_col_types = FALSE) %>% \nhead(5)# A tibble: 5 × 3\n  run         bioproject      bases\n  <chr>       <chr>           <dbl>\n1 SRR10245303 PRJNA477349 434919320\n2 SRR10245294 PRJNA477349 382616209\n3 SRR10245352 PRJNA477349 316807915\n4 SRR10245293 PRJNA477349 274398756\n5 SRR10245330 PRJNA477349 265408834"},{"path":"exploring-sample-metadata.html","id":"compare-read-size-by-bioproject","chapter":"3 Exploring Sample Metadata","heading":"3.3 Compare read size by BioProject","text":"","code":""},{"path":"exploring-sample-metadata.html","id":"read-size-by-variables-within-a-project","chapter":"3 Exploring Sample Metadata","heading":"3.4 Read size by variables within a project","text":"","code":""},{"path":"interactive-sample-location-map.html","id":"interactive-sample-location-map","chapter":"4 Interactive Sample Location Map","heading":"4 Interactive Sample Location Map","text":"\ngood practice sample collection take coordinates plotting location points, add clarity report. interactive experience, view report browser supports JavaScript. can also zoom-better exploration.","code":""},{"path":"imap-github-repos.html","id":"imap-github-repos","chapter":"A IMAP GitHub Repos","heading":"A IMAP GitHub Repos","text":"","code":""},{"path":"sample-metadata-rulegraph.html","id":"sample-metadata-rulegraph","chapter":"B Sample Metadata Rulegraph","heading":"B Sample Metadata Rulegraph","text":"","code":""},{"path":"session-information.html","id":"session-information","chapter":"C Session Information","heading":"C Session Information","text":"Reproducibility relies ability precisely recreate working environment, session information serves vital reference achieve consistency. record details R environment, package versions, system settings computing environment time analysis.","code":"\nlibrary(sessioninfo)\n\n# Get session info\ninfo <- capture.output(print(session_info()))\n\n# Exclude lines containing specific information (e.g., pandoc and library path)\ninfo_filtered <- info[!grepl(\"pandoc|/Applications/RStudio.app/Contents/Resources/app/quarto/bin/tools/|/Library/Frameworks/R.framework/Versions/4.3-arm64/Resources/library|*/Users/*\", info)]\n\n# Save the filtered session info to a text file in the root directory without line numbers\ncat(info_filtered, file = \"session_info.txt\", sep = \"\\n\")"},{"path":"references.html","id":"references","chapter":"References","heading":"References","text":"","code":""}]
